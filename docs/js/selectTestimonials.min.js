import{performers,reviews}from"./data/data.js";const testimonialsRoot=document.querySelector('[data-testimonials="testimonials"]'),reviewRoot=document.querySelector('[data-testimonials="review"]'),testimonialsPerformersList=document.querySelector('[data-testimonials="performers"]'),selectTestimonials=()=>{new Promise(e=>{renderPerformerList(testimonialsPerformersList),e()}).then(()=>{testimonialsPerformersList.addEventListener("click",choosePerformerHandler),testimonialsPerformersList.children[2].click()})},renderPerformerList=t=>{performers.forEach(e=>{t.insertAdjacentHTML("beforeend",`
            <li class="performer-list__item" data-testimonials="performer" data-id="${e.id}">
                <img src="${e.image}" alt="${e.alt}">
            </li>
        `)})},getReview=t=>reviews.find(e=>e.performerId===t),renderReview=(t,s)=>{const r=getReview(t);reviewRoot.innerHTML="",performers.forEach(e=>{e.id===t&&s.insertAdjacentHTML("afterbegin",`
                <div class="testimonials-content__comment">${r.text}</div>
                <h4 class="testimonials-content__title item-title">${e.name}</h4>
                <div class="testimonials-content__subtitle">${e.position}</div>
            `)})},removeActiveClasses=e=>{for(const t of e)t.classList.remove("active")},addActiveClass=e=>{e.classList.add("active")},choosePerformerHandler=e=>{e.stopPropagation();const t=e.target;var s,e=t.closest('[data-testimonials="performer"]');e&&(s=parseInt(e.dataset.id),removeActiveClasses(testimonialsPerformersList.children),addActiveClass(e),renderReview(s,reviewRoot))};export default selectTestimonials;